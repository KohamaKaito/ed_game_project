<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Firebase UI</title>
    <script src="/__/firebase/7.17.1/firebase-app.js"></script>
    <script src="/__/firebase/7.17.1/firebase-auth.js"></script>
    <script src="/__/firebase/init.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
    <style>
      .Info {
        display: flex;
        justify-content: center;
        height: 48px;
        line-height: 48px;
      }
      
      .Info button {
        height: 24px;
        margin: 12px;
      }
    </style>
</head>

<body>
    <div class="Info">
      <button id="sign-out" onclick="signout()">sign out</button>
    </div>

    <h1>ログインしたら見れる画面</h1>
    <p>頭</p>
    <p>肩</p>
    <p>耳</p>
    <p>肘</p>
    <p>鼻</p>

    <script> 
    function signout() {
        firebase.auth().signOut()
          .then(_ => {
            location.href = './index.html';
        }, err => {
    // エラーを表示する等
        });
    }
    firebase.auth().onAuthStateChanged((user) => {
      if (!user) {
    // サインインしていない状態
    // サインイン画面に遷移する等
    // 例:
      location.href = './index.html';
      } else {
      // サインイン済み
      }
    });
    </script>
</body>

</html>

